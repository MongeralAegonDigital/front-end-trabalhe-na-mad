"use strict";!function(){angular.module("VMLTest",["ngRoute"])}(),function(){function t(t){t.when("/",{controller:"projectDetailsCtrl",templateUrl:"js/views/no_project.html"}).when("/:nameProject",{controller:"projectDetailsCtrl",controllerAs:"vm",templateUrl:"js/views/project_details.html"})}angular.module("VMLTest").config(t),t.$inject=["$routeProvider"]}(),function(){function t(t,e,o){function c(){t.setProjectActive(),r()}function r(){o.nameProject&&e.getProjectDetails(o.nameProject).then(function(t){t.success!==!1&&(i.project_details=t.data,n(),s())})}function n(){e.getContributors(o.nameProject).then(function(t){t.success!==!1&&(angular.forEach(t.data,function(t){i.total_commits+=t.contributions}),i.total_pages=Math.ceil(i.total_commits/20))})}function s(){e.getCommits(o.nameProject,i.current_page).then(function(t){t.success!==!1&&(i.commits=i.commits.concat(t.data))})}function a(){i.current_page+=1,s()}var i=this;i.showListProjects=t.showListProjects,i.total_commits=0,i.total_pages=1,i.current_page=1,i.commits=[],i.project_details={},i.loadMore=a,c()}angular.module("VMLTest").controller("projectDetailsCtrl",t),t.$inject=["navService","githubApi","$routeParams"]}(),function(){function t(t,e,o){function c(){r()}function r(){t.getAllProjects().then(function(t){t.success!==!1&&(n.list_projects=t.data.items,o(function(){e.setProjectActive()},100))})}var n=this;n.list_projects=[],n.hideListProjects=e.hideListProjects,c()}angular.module("VMLTest").controller("projectsCtrl",t),t.$inject=["githubApi","navService","$timeout"]}(),function(){function t(t){function e(){return t.get("https://api.github.com/search/repositories?q=user:globocom&sort=stars&order=desc&per_page=200").then(n,s("Erro ao tentar carregar listagem de projetos."))}function o(e){return t.get("https://api.github.com/repos/globocom/"+e+"?client_id=fb2d7e47d7daf8864ef4&client_secret=e80450626cb66e348f70cf7c9ce7f19c05174b15").then(n,s("Erro ao tentar carregar detalhes do projeto."))}function c(e){return t.get("https://api.github.com/repos/globocom/"+e+"/contributors?client_id=fb2d7e47d7daf8864ef4&client_secret=e80450626cb66e348f70cf7c9ce7f19c05174b15").then(n,s("Erro ao tentar carregar detalhes do projeto."))}function r(e,o){return t.get("https://api.github.com/repos/globocom/"+e+"/commits?page="+o+"&per_page=20&client_id=fb2d7e47d7daf8864ef4&client_secret=e80450626cb66e348f70cf7c9ce7f19c05174b15").then(n,s("Erro ao tentar carregar detalhes do projeto."))}function n(t){return{data:t.data,status:t.status}}function s(t){return{success:!1,message:t}}var a={};return a.getAllProjects=e,a.getProjectDetails=o,a.getContributors=c,a.getCommits=r,a}angular.module("VMLTest").factory("githubApi",t),t.$inject=["$http"]}(),function(){function t(t){function e(){var e=t.nameProject,o=document.querySelectorAll(".list-projects__item").length;void 0!==e?o>=1&&(document.getElementsByClassName("nav")[0].classList.remove("active"),r(),document.getElementById(e).classList.add("active")):(document.getElementsByClassName("nav")[0].classList.add("active"),r())}function o(){document.getElementsByClassName("nav")[0].classList.remove("active")}function c(){document.getElementsByClassName("nav")[0].classList.add("active")}function r(){var t=document.querySelector(".list-projects__item.active");null!==t&&t.classList.remove("active")}var n={};return n.setProjectActive=e,n.showListProjects=o,n.hideListProjects=c,n}angular.module("VMLTest").factory("navService",t),t.$inject=["$routeParams"]}();